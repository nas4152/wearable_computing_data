##DATA ANALYSIS

This analysis provides a summary of data generated by an experiment on 
smartphone readings of human activity.  For source information and details 
on the experiment see the codebook. *For shorter explanations see comments in 
code. Italics indicate choices that may change how my code or end data looks 
compared to other interpretations of the instructions.*

#Download
The first part of the analysis is downloading and unzipping the data. Note:
if there is a directory called "UCI  HAR Dataset" in the working directory
that does not contain the same data, the code will not work properly.

#Loading into R
The second part of the analysis is loading the data into R as dataframes.  
Information as to which files contained which data was obtained from the 
README included in the original data set.  *The inertial signals folders were
ignored as they do not contain mean or standard of deviation data and so were
not relevent to this analysis.*  This also reduces the amount of data loaded 
into R.  The data set was divided by "train" and "test" groups that were not 
used in this analysis.  Intermediate datasets were created for the information 
on the subject id for each observation, the activities performed, and the data 
collected for each group as they came from different files.  Additionally the 
files that described the activities (coded in the data as numbers) and the 
variables (colnames of the observations dataframes) were loaded into R.

Note: This code uses many intermediate variables for clarity that are not 
cleared from the workspace to allow steps to be more transparent

#Merging, labeling, and selecting relevent observations
The test and train group dataframes were merged before adding labels or merging
the different types of data (rbind before cbind).  This meant fewer attributes
when combining the bulk of the data to introduce errors, but required using 
a consistent order (train then test groups).  The column names were added to the
observations data after the first merge.  Duplicate names were relabelled using 
make.unique to prevent future complications and final column names were checked
to ensure that this did not introduce confusion for the relevent columns.  

Next, mean and standard of deviation data were selected from the combined 
dataframe
*All observations including "mean" or "std" were selected, including variables
based on means.  This may have selected more columns than other interpretations
of the instructions.*  This decision was made after checking the variables 
selected.  As the final use of the data set was unknown, there were not many
variables  added by this choice and the additional variables were summary data 
based on means they were included. *These variables were left as is, instead
of grouping mean and std by observation or other possible transformations.*
This allows for continuity with the original experiment.

For each dataframe, train and test groups were merged.  Then subject information,
activity, and observations were merged into one dataframe.  The activity column
was changed from a numeric column to a factor column with levels that described
the activity.

#Reshaping data
The purpose of this analysis was to determine means of the selected variables
as grouped by subject (the individual performing the different activities) 
and the activities performed.  In preperation for this the data was melted to 
have two id variables (subject and id), and the rest of the data to be considered
variables.  

#Calculating means and formatting final dataset
Initially two seperate dataframes were created: one that had a row for each 
subject and one that had a row for each activity.  Each dataset contained the 
means for each selected variable and a column for the subset used to compute 
those means.  *The dataframes were merged with a column indicating whether
the group was by subject or by activity and a column with the value for either
subject or activity.* Instead of treating the subset as one variable it was 
seperated into type of group and the relevent group id (subject number or 
activity desctiption). The final dataset is stored as dfmeans.